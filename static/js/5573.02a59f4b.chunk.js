"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5573],{9278:function(n,e,a){a.r(e),a.d(e,{default:function(){return N}});var s=a(1413),r=a(7762),o=a(4925),t=a(4165),l=a(5861),i=a(885),c=a(1134),u=a(6509),d=a(9871),h=a(8664),p=a(8182),m=a(2791),v="style_hide-scrollbar__jlYFl",x=a(6233),f=a(2555),T=a(1933),j=a(5089),g=a(5548),D=a(7786),Z=a(6871),b=a(184),y=["IDDanhMuc"];var N=function(){var n=(0,Z.TH)().state,e=(0,m.useState)(),a=(0,i.Z)(e,2),N=a[0],I=a[1],w=(0,T.useQueries)([{queryKey:["category"],queryFn:function(){var n=(0,l.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.Z.get(g.b.GET_LIST_ALL_CATEGORY);case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),keepPreviousData:!0,staleTime:5e3},{queryKey:["publishing company"],queryFn:function(){var n=(0,l.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.Z.get(g.b.GET_LIST_ALL_PUBLISHING);case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),keepPreviousData:!0,staleTime:5e3},{queryKey:["authors"],queryFn:function(){var n=(0,l.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.Z.get(g.b.AUTHOR);case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),keepPreviousData:!0,staleTime:5e3}]),L=(0,c.cI)({mode:"onBlur",defaultValues:{TenSanPham:null!==n&&void 0!==n&&n.TenSanPham?null===n||void 0===n?void 0:n.TenSanPham:"",TomTatND:null!==n&&void 0!==n&&n.TomTatND?null===n||void 0===n?void 0:n.TomTatND:"",IDDanhMuc:null!==n&&void 0!==n&&n.IDDanhMuc?null===n||void 0===n?void 0:n.IDDanhMuc:"",IDTheLoai:null!==n&&void 0!==n&&n.IDTheLoai?null===n||void 0===n?void 0:n.IDTheLoai:"",IDNhaXuatBan:null!==n&&void 0!==n&&n.IDNhaXuatBan?null===n||void 0===n?void 0:n.IDNhaXuatBan:"",GiaBan:null!==n&&void 0!==n&&n.GiaBan?null===n||void 0===n?void 0:n.GiaBan:"",IDTacGia:null!==n&&void 0!==n&&n.IDTacGia?null===n||void 0===n?void 0:n.IDTacGia:"",GiamGia:null!==n&&void 0!==n&&n.GiamGia?null===n||void 0===n?void 0:n.GiamGia:"",SoTrang:null!==n&&void 0!==n&&n.SoTrang?null===n||void 0===n?void 0:n.SoTrang:"",SoLuongConLai:null!==n&&void 0!==n&&n.SoLuongConLai?null===n||void 0===n?void 0:n.SoLuongConLai:"",DonViTinh:null!==n&&void 0!==n&&n.DonViTinh?null===n||void 0===n?void 0:n.DonViTinh:"",HinhAnh:null!==n&&void 0!==n&&n.HinhAnh?null===n||void 0===n?void 0:n.HinhAnh:""}}),S=L.register,k=L.control,G=L.formState.errors,C=L.handleSubmit,A=L.setValue,P=L.trigger,_=L.watch,H=(0,T.useQuery)({queryKey:["type of product",_("IDDanhMuc")],queryFn:function(){var n=(0,l.Z)((0,t.Z)().mark((function n(){var e;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!_("IDDanhMuc")){n.next=5;break}return n.next=3,j.Z.get("".concat(g.b.GET_LIST_ALL_TYPEOF_BOOK,"/").concat(_("IDDanhMuc")));case 3:return e=n.sent,n.abrupt("return",e.data);case 5:return n.abrupt("return",[]);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),keepPreviousData:!0}),B=H.data,E=H.isLoading,M=H.isError,q=(0,m.useCallback)(function(){var n=(0,l.Z)((0,t.Z)().mark((function n(e){var a,s;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(a=e.target.files[0])){n.next=12;break}return A("HinhAnh",a),n.next=5,P("HinhAnh");case 5:if(!n.sent){n.next=11;break}(s=new FileReader).readAsDataURL(a),s.onloadend=function(){I(s.result)},n.next=12;break;case 11:I(null);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]),V=(0,m.useCallback)(function(){var e=(0,l.Z)((0,t.Z)().mark((function e(a){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.IDDanhMuc,s=(0,o.Z)(a,y),e.prev=1,e.next=4,j.Z.put("".concat(g.b.CREATE_PRODUCT,"/").concat(null===n||void 0===n?void 0:n.IDSanPham),s,{headers:{"Content-Type":"multipart/form-data"}});case 4:window.alert("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),window.alert("C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m th\u1ea5t b\u1ea1i");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),[]);(0,m.useEffect)((function(){null!==(null===n||void 0===n?void 0:n.HinhAnh)&&I(null===n||void 0===n?void 0:n.HinhAnh)}),[]);var F,O=(0,r.Z)(w);try{for(O.s();!(F=O.n()).done;){var R=F.value;if(R.isLoading)return(0,b.jsx)(D.Z,{});if(R.isError)return(0,b.jsx)("div",{children:"\u0110\xe3 c\xf3 l\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u \ud83d\ude25"})}}catch(X){O.e(X)}finally{O.f()}return E?(0,b.jsx)(D.Z,{}):M?(0,b.jsx)("div",{children:"\u0110\xe3 c\xf3 l\u1ed7i khi l\u1ea5y d\u1eef li\u1ec7u \ud83d\ude25"}):(0,b.jsxs)("form",{onSubmit:C(V),children:[(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"C\u1eadp Nh\u1eadt S\u1ea3n ph\u1ea9m"}),(0,b.jsx)("button",{className:"px-3 py-1 bg-orange-600 rounded-sm text-white text-sm hover:bg-orange-500 transition-colors ml-auto",children:"X\xe1c nh\u1eadn"})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-5 grid-cols-1 grid-flow-dense py-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-3",children:[(0,b.jsx)("span",{children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,b.jsx)(u.Z,{rounded:"rounded-sm",name:"TenSanPham",control:k,rules:h.s.name,placeholder:"Truy\u1ec7n c\u01b0\u1eddi Vi\u1ec7t Nam..."})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-3 row-span-2",children:[(0,b.jsx)("span",{children:"N\u1ed9i dung"}),(0,b.jsx)("textarea",(0,s.Z)((0,s.Z)({},S("TomTatND",h.s.content)),{},{className:(0,p.Z)(G.TomTatND&&"border-red-600",v,"outline-none p-4 w-full border resize-none overflow-scroll"),rows:"6",placeholder:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m..."})),G.TomTatND&&(0,b.jsxs)("span",{className:"px-2 italic text-sm text-red-500",children:[G.TomTatND.message,"*"]})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-3",children:[(0,b.jsx)("span",{children:"T\xe1c gi\u1ea3"}),(0,b.jsx)(f.Z,{name:"IDTacGia",control:k,rules:h.s.author,data:w[2].data})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,b.jsx)("span",{children:"Danh m\u1ee5c"}),(0,b.jsx)(f.Z,{name:"IDDanhMuc",control:k,rules:h.s.category,data:w[0].data})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,b.jsx)("span",{children:"Th\u1ec3 lo\u1ea1i"}),(0,b.jsx)(f.Z,{name:"IDTheLoai",control:k,rules:h.s.typeof,data:B})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,b.jsx)("span",{children:"Nh\xe0 xu\u1ea5t b\u1ea3n"}),(0,b.jsx)(f.Z,{name:"IDNhaXuatBan",control:k,rules:h.s.publishing,data:w[1].data})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,b.jsx)("span",{children:"\u0110\u01a1n v\u1ecb t\xednh"}),(0,b.jsx)(u.Z,{rounded:"rounded-sm",name:"DonViTinh",control:k,rules:h.s.unit,placeholder:"VD: Cu\u1ed1n"})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-3 grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,b.jsx)("span",{children:"Gi\xe1 b\xe1n"}),(0,b.jsx)(u.Z,{type:"number",rounded:"rounded-sm",name:"GiaBan",control:k,rules:h.s.price,placeholder:"120000"})]}),(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,b.jsx)("span",{children:"Ph\u1ea7n tr\u0103m gi\u1ea3m gi\xe1"}),(0,b.jsx)(u.Z,{type:"number",rounded:"rounded-sm",name:"GiamGia",control:k,rules:h.s.discount,placeholder:"10"})]})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2 grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,b.jsx)("span",{children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,b.jsx)(u.Z,{type:"number",rounded:"rounded-sm",name:"SoLuongConLai",control:k,rules:h.s.count,placeholder:"120"})]}),(0,b.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[(0,b.jsx)("span",{children:"S\u1ed1 Trang"}),(0,b.jsx)(u.Z,{type:"number",rounded:"rounded-sm",name:"SoTrang",control:k,rules:h.s.numberPage,placeholder:"10"})]})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-3 ",children:[(0,b.jsx)("span",{children:"H\xecnh \u1ea3nh"}),(0,b.jsx)(d.Z,{name:"HinhAnh",control:k,rules:h.s.image,onChangeImage:q})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2",children:[(0,b.jsx)("span",{children:"Xem Tr\u01b0\u1edbc"}),(0,b.jsx)(x.Z,{fileImage:N})]})]})]})}}}]);
//# sourceMappingURL=5573.02a59f4b.chunk.js.map