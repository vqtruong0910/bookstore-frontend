"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7252],{7252:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var s=t(1413),a=t(4165),r=t(5861),c=t(885),l=t(8182),i=t(2791),o=t(1134),u=t(8820),d=t(9126),h=t(1933),x=t(7786),m=t(5089),p=t(5548),f="style_none-spin__MOdbn",b="style_hide-scrollbar__TCJgG",g=t(184);var w=function(){var e=(0,i.useId)(),n=(0,h.useQueryClient)(),t=(0,i.useState)({}),w=(0,c.Z)(t,2),j=w[0],N=w[1],v=(0,i.useState)(!1),T=(0,c.Z)(v,2),y=T[0],C=T[1],Z=(0,i.useState)(1),k=(0,c.Z)(Z,2),S=k[0],G=k[1],D=(0,o.cI)({mode:"onBlur",defaultValues:{TenTacGia:"",DiaChi:""}}),U=D.register,A=D.formState.errors,I=D.handleSubmit,L=D.reset,_=(0,o.cI)({mode:"onBlur",defaultValues:{TacGia:"",DiaChiUpdate:""}}),B=_.register,H=(_.formState.errors,_.handleSubmit),O=(_.reset,_.setValue),Q=(0,h.useQuery)(["authors",S],(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("".concat(p.b.AUTHOR,"/pages"),{params:{p:S,s:10}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),{keepPreviousData:!0}),z=Q.data,M=Q.isLoading,R=Q.isError,V=(0,h.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.post(p.b.AUTHOR,n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("authors")}}),X=V.mutateAsync,q=(0,h.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.put("".concat(p.b.AUTHOR,"/").concat(j.IDTacGia),{TenTacGia:n.TacGia,DiaChi:n.DiaChiUpdate});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("authors")}}),K=q.mutateAsync,E=(0,h.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.delete("".concat(p.b.AUTHOR,"/").concat(n));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("authors")}}),F=E.mutateAsync,J=(0,i.useCallback)((function(){G((function(e){return e>=z.SoLuongTrang?z.SoLuongTrang:++e}))}),[S,z]),P=(0,i.useCallback)((function(){G((function(e){return e>1?--e:1}))}),[S]),Y=(0,i.useCallback)((function(){G(1)}),[]),W=(0,i.useCallback)((function(){G(z.SoLuongTrang)}),[z]),$=(0,i.useCallback)((function(e){var n=parseInt(e.target.value);n>0&&n<=z.SoLuongTrang&&G(n)}),[z]),ee=(0,i.useCallback)((function(e){O("TacGia",e.TenTacGia),O("DiaChiUpdate",e.DiaChi),N(e),C(!0)}),[]),ne=(0,i.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n th\xeam t\xe1c gi\u1ea3 n\xe0y ch\u1ee9")&&X(e).then((function(){window.alert("Th\xeam t\xe1c gi\u1ea3 th\xe0nh c\xf4ng"),L({TenTacGia:"",DiaChi:""})})).catch((function(e){console.log(e),window.alert("Th\xeam t\xe1c gi\u1ea3 th\u1ea5t b\u1ea1i")}))}),[]),te=(0,i.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n thay \u0111\u1ed5i t\xe1c gi\u1ea3 n\xe0y ch\u1ee9")&&K(e).then((function(){window.alert("Thay \u0111\u1ed5i t\xe1c gi\u1ea3 th\xe0nh c\xf4ng"),C(!1)})).catch((function(e){console.log(e),window.alert("Thay \u0111\u1ed5i t\xe1c gi\u1ea3 th\u1ea5t b\u1ea1i")}))}),[]),se=(0,i.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n x\xf3a t\xe1c gi\u1ea3 n\xe0y ch\u1ee9")&&F(e).then((function(){window.alert("X\xf3a t\xe1c gi\u1ea3 th\xe0nh c\xf4ng")})).catch((function(e){console.log(e),window.alert("X\xf3a t\xe1c gi\u1ea3 th\u1ea5t b\u1ea1i")}))}),[]);return M?(0,g.jsx)(x.Z,{}):R?(0,g.jsx)("h1",{children:"Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u \ud83d\ude25"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"flex space-x-2",children:(0,g.jsx)("h2",{className:"text-xl font-semibold",children:"T\xe1c gi\u1ea3 \u2728"})}),(0,g.jsxs)("div",{className:"py-2 space-y-1",children:[(0,g.jsx)("div",{className:"hidden md:flex",children:(0,g.jsxs)("form",{onSubmit:I(ne),className:"flex space-x-3",children:[(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},U("TenTacGia",{required:!0})),{},{placeholder:"T\xean t\xe1c gi\u1ea3...",type:"text",className:(0,l.Z)(A.TenTacGia&&"border-red-600","focus:outline-none rounded-sm border")})),(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},U("DiaChi",{required:!0})),{},{placeholder:"\u0110\u1ecba ch\u1ec9...",type:"text",className:(0,l.Z)(A.DiaChi&&"border-red-600","focus:outline-none rounded-sm border")})),(0,g.jsx)("button",{className:"px-3 py-1 bg-orange-600 rounded-sm text-white text-sm hover:bg-orange-500 transition-colors ml-auto",children:"Th\xeam"})]})}),(0,g.jsxs)("div",{className:"flex justify-end space-x-2 py-1",children:[(0,g.jsxs)("div",{className:"px-2 border rounded-sm cursor-pointer",children:[z.TongTacGia," m\u1ee5c"]}),(0,g.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:Y,children:"\xab"}),(0,g.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:P,children:"<"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"number",className:(0,l.Z)(f,"px-2 border rounded-sm cursor-pointer w-14 text-center"),value:S,onChange:function(e){return $(e)}})," / ",null===z||void 0===z?void 0:z.SoLuongTrang]}),(0,g.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:J,children:">"}),(0,g.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:W,children:"\xbb"})]})]}),(0,g.jsxs)("table",{className:"border-collapse border rounded-sm w-full bg-white",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"border bg-slate-800 text-slate-200",children:[(0,g.jsx)("th",{className:"p-2 text-left",children:"T\xean t\xe1c gi\u1ea3"}),(0,g.jsx)("th",{className:"p-2 text-left",children:"\u0110\u1ecba ch\u1ec9"}),(0,g.jsx)("th",{className:"p-2 text-center w-16"}),(0,g.jsx)("th",{className:"p-2 text-center w-16"})]})}),(0,g.jsx)("tbody",{children:z&&z.DanhSach.map((function(n){return(0,g.jsxs)("tr",{className:"odd:bg-slate-100 border",children:[(0,g.jsx)("td",{className:"p-2",children:n.TenTacGia}),(0,g.jsx)("td",{className:"p-2",children:n.DiaChi}),(0,g.jsx)("td",{className:"p-2 text-indigo-500 font-semibold w-16 align-middle",children:(0,g.jsx)("span",{className:"w-full",children:(0,g.jsx)(d.HlX,{onClick:function(){return ee(n)},size:20,className:"cursor-pointer mx-auto"})})}),(0,g.jsx)("td",{className:"p-2 text-red-500 font-semibold w-16 align-middle",children:(0,g.jsx)("span",{className:"w-full",children:(0,g.jsx)(u.YK6,{onClick:function(){return se(n.IDTacGia)},size:20,className:"cursor-pointer mx-auto"})})})]},e+n.IDTacGia)}))})]}),(0,g.jsx)("div",{className:(0,l.Z)(y?"z-30":"-z-30","fixed flex justify-center items-center inset-0 bg-slate-900 bg-opacity-20"),children:(0,g.jsx)("div",{className:(0,l.Z)(!y&&"scale-0",b,"flex w-full flex-col bg-white rounded-sm overflow-y-scroll sm:w-1/2 max-h-screen transition-all duration-200"),children:(0,g.jsxs)("form",{onSubmit:H(te),className:"w-full flex flex-col py-4 px-4 sm:p-6",children:[(0,g.jsx)("span",{className:"w-full flex text-slate-600 lg:text-lg",children:"Th\xf4ng tin t\xe1c gi\u1ea3"}),(0,g.jsxs)("div",{className:"flex flex-col w-full justify-center h-full sm:px-10",children:[(0,g.jsxs)("div",{className:"flex w-full py-2",children:[(0,g.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,g.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"T\xean T\xe1c Gi\u1ea3"})}),(0,g.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},B("TacGia")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",placeholder:"T\xean danh m\u1ee5c"}))})]}),(0,g.jsxs)("div",{className:"flex w-full py-2",children:[(0,g.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,g.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"\u0110\u1ecba Ch\u1ec9"})}),(0,g.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,g.jsx)("input",(0,s.Z)((0,s.Z)({},B("DiaChiUpdate")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",placeholder:"\u0110\u1ecba ch\u1ec9"}))})]})]}),(0,g.jsx)("div",{className:"w-full flex pt-8",children:(0,g.jsxs)("div",{className:"ml-auto space-x-3",children:[(0,g.jsx)("button",{type:"button",onClick:function(){return C(!1)},className:"py-2 px-3 text-slate-700 hover:bg-slate-100 shadow-sm border transition rounded-sm",children:"Tr\u1edf l\u1ea1i"}),(0,g.jsx)("button",{type:"submit",className:"py-2 px-3 bg-slate-700 hover:bg-slate-500 shadow-sm border transition rounded-sm text-white",children:"C\u1eadp nh\u1eadt"})]})})]})})})]})}}}]);
//# sourceMappingURL=7252.3f849b8f.chunk.js.map