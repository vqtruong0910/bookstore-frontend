"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2295],{2295:function(e,l,s){s.r(l),s.d(l,{default:function(){return y}});var a=s(1413),n=s(4165),t=s(5861),r=s(885),c=s(1578),i=s(9126),o=s(2791),d=s(1933),x=s(5089),u=s(5548),h=s(7786),m=s(8182),g="style_none-spin__2XpZf",p="style_hide-scrollbar__rgnSo",f=s(1134),b=s(6871),N=s(1904),j={"-1":"Ng\u01b0\u1eddi d\xf9ng \u0111\xe3 h\u1ee7y",0:"Ch\u01b0a x\u1eed l\xfd",1:"H\u1ee7y \u0111\u01a1n h\xe0ng",2:"\u0110ang giao",3:"\u0110\xe3 giao h\xe0ng"},w=s(184);var y=function(){var e=(0,d.useQueryClient)(),l=(0,o.useState)(1),s=(0,r.Z)(l,2),y=s[0],v=s[1],T=(0,o.useState)(!1),k=(0,r.Z)(T,2),Z=k[0],C=k[1],S=(0,o.useState)({}),D=(0,r.Z)(S,2),L=D[0],_=D[1],H=(0,b.s0)(),G=(0,d.useQuery)(["orders",y],(0,t.Z)((0,n.Z)().mark((function e(){var l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.get("".concat(u.b.GET_LIST_ORDER_IN_PAGE,"?p=").concat(y,"&s=12"));case 2:return l=e.sent,console.log(l.data),e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)}))),{keepPreviousData:!0}),I=G.data,E=G.isLoading,A=G.isError,z=(0,d.useMutation)(function(){var e=(0,t.Z)((0,n.Z)().mark((function e(l){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.put("".concat(u.b.MANAGE_ORDER,"/").concat(L.IDDonHang),l);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(l){return e.apply(this,arguments)}}(),{onSuccess:function(){e.invalidateQueries("orders")}}),R=z.mutateAsync,M=(0,f.cI)({mode:"onBlur",defaultValues:{HoTen:"",DiaChi:"",NgayDat:"",NgayGiao:"",SoLuong:"",SoDienThoai:"",TongTien:"",TrangThai:""}}),Q=M.register,F=M.handleSubmit,K=M.setValue,O=(M.watch,(0,o.useCallback)((function(e){if(null!==e){var l=new Date(e);return("0"+l.getDate()).slice(-2)+"/"+("0"+(l.getMonth()+1)).slice(-2)+"/"+l.getFullYear()}}),[])),P=(0,o.useCallback)((function(e){K("HoTen",e.HoTen),K("DiaChi",e.DiaChi),K("NgayDat",O(e.NgayDat)),K("NgayGiao",O(e.NgayGiao)),K("SoDienThoai",e.SoDienThoai),K("SoLuong",e.SoLuong),K("TongTien",e.Tong),K("TrangThai",e.TrangThai),_(e),C(!0)}),[]),V=(0,o.useCallback)((function(){v((function(e){return e>=I.SoLuongTrang?I.SoLuongTrang:++e}))}),[y,I]),X=(0,o.useCallback)((function(){v((function(e){return e>1?--e:1}))}),[y]),B=(0,o.useCallback)((function(){v(1)}),[]),Y=(0,o.useCallback)((function(){v(I.SoLuongTrang)}),[I]),q=(0,o.useCallback)((function(e){var l=parseInt(e.target.value);l>0&&l<=I.SoLuongTrang&&v(l)}),[I]),J=(0,o.useCallback)((function(e){H("".concat(N.m.admin.order_detail_transfer_page,"/").concat(e))}),[]),U=(0,o.useCallback)((function(e){return"-1"==e||"1"==e?"text-red-500 bg-red-300":"0"==e?"text-amber-500 bg-amber-300":"2"==e?"text-sky-500 bg-sky-300":"3"==e?"text-lime-500 bg-lime-300":""}),[]),W=(0,o.useCallback)((function(e){if(e.TrangThai===L.TrangThai)return window.alert("Kh\xf4ng c\xf3 s\u1ef1 thay \u0111\u1ed5i n\xe0o x\u1ea3y ra !");R({TrangThai:e.TrangThai}).then((function(e){console.log(e),window.alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),C(!1)})).catch((function(){window.alert("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i")}))}),[]);return E?(0,w.jsx)(h.Z,{}):A?(0,w.jsx)("h1",{children:"Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u \ud83d\ude25"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h2",{className:"text-xl font-semibold",children:"\u0110\u01a1n h\xe0ng \u2728"}),(0,w.jsx)("div",{className:"py-2 space-y-1",children:(0,w.jsxs)("div",{className:"flex justify-end space-x-2 py-1 select-none",children:[(0,w.jsxs)("div",{className:"px-2 border rounded-sm cursor-pointer",children:[null===I||void 0===I?void 0:I.TongDon," m\u1ee5c"]}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:B,children:"\xab"}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:X,children:"<"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"number",className:(0,m.Z)(g,"px-2 border rounded-sm cursor-pointer w-14 text-center"),value:y,onChange:function(e){return q(e)}})," / ",I.SoLuongTrang]}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:V,children:">"}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:Y,children:"\xbb"})]})}),(0,w.jsxs)("table",{className:"border-collapse border rounded-sm w-full bg-white",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:"border bg-slate-800 text-slate-200",children:[(0,w.jsx)("th",{className:"p-2 text-left",children:"T\xean ng\u01b0\u1eddi \u0111\u1eb7t"}),(0,w.jsx)("th",{className:"p-2 text-left",children:"\u0110\u1ecba ch\u1ec9"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"Ng\xe0y \u0111\u1eb7t"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"Ng\xe0y giao"}),(0,w.jsx)("th",{className:"p-2 text-center hidden md:table-cell",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"T\u1ed5ng"}),(0,w.jsx)("th",{className:"p-2 text-center hidden md:table-cell",children:"Tr\u1ea1ng th\xe1i"}),(0,w.jsx)("th",{className:"p-2 w-16"}),(0,w.jsx)("th",{className:"p-2 w-16"})]})}),(0,w.jsx)("tbody",{children:I.DanhSach.map((function(e){return(0,w.jsxs)("tr",{className:"odd:bg-slate-100 border",children:[(0,w.jsx)("td",{className:"p-2",children:e.HoTen}),(0,w.jsx)("td",{className:"p-2",children:e.DiaChi}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:O(e.NgayDat)}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:O(e.NgayGiao)}),(0,w.jsx)("td",{className:"p-2 text-center hidden md:table-cell",children:e.SoLuong}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:e.Tong}),(0,w.jsx)("td",{className:"p-2 text-center hidden md:table-cell",children:(0,w.jsx)("span",{className:(0,m.Z)("py-1 px-2 rounded-xl bg-opacity-20 text-center text-sm w-24",U(e.TrangThai)),children:j[e.TrangThai]})}),(0,w.jsx)("td",{className:"p-2 text-indigo-500 font-semibold w-16 align-middle",children:(0,w.jsx)("span",{className:"w-full",children:(0,w.jsx)(c.ctA,{onClick:function(){return J(e.IDDonHang)},size:20,className:"cursor-pointer mx-auto"})})}),(0,w.jsx)("td",{className:"p-2 text-indigo-500 font-semibold w-16 align-middle",children:(0,w.jsx)("span",{className:"w-full",children:(0,w.jsx)(i.HlX,{onClick:function(){return P(e)},size:20,className:"cursor-pointer mx-auto"})})})]},e.IDDonHang)}))})]}),(0,w.jsx)("div",{className:(0,m.Z)(Z?"z-30":"-z-30","fixed flex justify-center items-center inset-0 bg-slate-900 bg-opacity-20"),children:(0,w.jsx)("div",{className:(0,m.Z)(!Z&&"scale-0",p,"flex w-full flex-col bg-white rounded-sm overflow-y-scroll sm:w-1/2 max-h-screen transition-all duration-200"),children:(0,w.jsxs)("form",{onSubmit:F(W),className:"w-full flex flex-col py-4 px-4 sm:p-6",children:[(0,w.jsx)("span",{className:"w-full flex text-slate-600 lg:text-lg",children:"Th\xf4ng tin \u0111\u01a1n h\xe0ng"}),(0,w.jsxs)("div",{className:"flex flex-col w-full justify-center h-full sm:px-10",children:[(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"T\xean Ng\u01b0\u1eddi \u0110\u1eb7t"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("HoTen")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",disabled:!0,placeholder:"H\u1ecd t\xean"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"\u0110\u1ecba ch\u1ec9"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("DiaChi")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",disabled:!0,placeholder:"\u0110\u1ecba ch\u1ec9"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Ng\xe0y \u0111\u1eb7t"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("NgayDat")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",disabled:!0,placeholder:"Ng\xe0y \u0111\u1eb7t"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Ng\xe0y Giao"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("NgayGiao")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",disabled:!0,placeholder:"Ng\xe0y giao"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"S\u1ed1 L\u01b0\u1ee3ng"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("SoLuong")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",disabled:!0,placeholder:"S\u1ed1 L\u01b0\u1ee3ng"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("SoDienThoai")),{},{type:"tel",disabled:!0,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"T\u1ed5ng ti\u1ec1n"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,a.Z)((0,a.Z)({},Q("TongTien")),{},{type:"number",disabled:!0,placeholder:"TongTien",className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Tr\u1ea1ng th\xe1i"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsxs)("select",(0,a.Z)((0,a.Z)({},Q("TrangThai")),{},{className:"border border-sky-200 w-full px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 text-sm lg:text-base",children:[(0,w.jsx)("option",{value:"0",children:"Ch\u01b0a x\u1eed l\xfd"}),(0,w.jsx)("option",{value:"1",children:"H\u1ee7y \u0111\u01a1n h\xe0ng"}),(0,w.jsx)("option",{value:"2",children:"\u0110ang Giao"}),(0,w.jsx)("option",{value:"3",children:"Giao th\xe0nh c\xf4ng"})]}))})]})]}),(0,w.jsx)("div",{className:"w-full flex pt-8",children:(0,w.jsxs)("div",{className:"ml-auto space-x-3",children:[(0,w.jsx)("button",{type:"button",onClick:function(){return C(!1)},className:"py-2 px-3 text-slate-700 hover:bg-slate-100 shadow-sm border transition rounded-sm",children:"Tr\u1edf l\u1ea1i"}),(0,w.jsx)("button",{type:"submit",className:"py-2 px-3 bg-slate-700 hover:bg-slate-500 shadow-sm border transition rounded-sm text-white",children:"C\u1eadp nh\u1eadt"})]})})]})})})]})}}}]);
//# sourceMappingURL=2295.79b50640.chunk.js.map