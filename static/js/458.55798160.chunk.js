"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[458],{7410:function(e,s,l){l.r(s),l.d(s,{default:function(){return v}});var n=l(1413),t=l(4165),a=l(5861),c=l(885),i=l(8182),r=l(2791),d=l(1134),o=l(9126),x=l(1933),h=l(7786),u=l(5089),m=l(5548),p={0:"N\u1eef",1:"Nam"},f={0:"Admin",1:"Kh\xe1ch h\xe0ng"},g={0:"\u0110\xe3 b\u1ecb kh\xf3a",1:"Ho\u1ea1t \u0111\u1ed9ng"},b={0:"Ch\u01b0a x\xe1c th\u1ef1c",1:"\u0110\xe3 x\xe1c th\u1ef1c"},j="style_none-spin__nOhs7",N="style_hide-scrollbar__jjJfE",y=l.p+"static/media/\u2014Pngtree\u2014camera icon photography_4015139.9ee37b5597d806955790.png",w=l(184);var v=function(){var e=(0,r.useId)(),s=(0,x.useQueryClient)(),l=(0,r.useState)(1),v=(0,c.Z)(l,2),T=v[0],k=v[1],Z=(0,r.useState)(!1),S=(0,c.Z)(Z,2),C=S[0],E=S[1],Q=(0,r.useState)({}),_=(0,c.Z)(Q,2),G=_[0],L=_[1],A=(0,x.useQuery)(["users",T],(0,a.Z)((0,t.Z)().mark((function e(){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("".concat(m.b.GET_LIST_USER_IN_PAGE,"/").concat(T));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)}))),{keepPreviousData:!0}),H=A.data,D=A.isLoading,X=A.isError,I=(0,x.useMutation)(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s){var l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.put("".concat(m.b.GET_LIST_ALL_USER,"/").concat(G.IDNguoiDung),s);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),{onSuccess:function(){s.invalidateQueries("users")}}),K=I.mutateAsync,z=(0,d.cI)({mode:"onBlur",defaultValues:{HoTen:"",Email:"",GioiTinh:"",SoDienThoai:"",NgaySinh:"",TrangThai:"",XacThuc:"",Quyen:""}}),P=z.register,M=z.handleSubmit,R=z.setValue,U=z.watch,V=(0,r.useCallback)((function(){k((function(e){return e>=H.SoLuongTrang?H.SoLuongTrang:++e}))}),[T,H]),B=(0,r.useCallback)((function(){k((function(e){return e>1?--e:1}))}),[T]),F=(0,r.useCallback)((function(){k(1)}),[]),J=(0,r.useCallback)((function(){k(H.SoLuongTrang)}),[H]),O=(0,r.useCallback)((function(e){var s=parseInt(e.target.value);s>0&&s<=H.SoLuongTrang&&k(s)}),[H]),q=(0,r.useCallback)((function(e){R("HoTen",e.HoTen),R("Email",e.Email),R("GioiTinh",e.GioiTinh),R("NgaySinh",e.NgaySinh),R("SoDienThoai",e.SoDienThoai),R("Quyen",e.Quyen),R("XacThuc",e.XacThuc),R("TrangThai",e.TrangThai),L(e),E(!0)}),[]),W=(0,r.useMemo)((function(){return 0!==U("XacThuc")}),[U("XacThuc")]),Y=(0,r.useCallback)((function(e){if(e.Quyen===G.Quyen&&e.TrangThai===G.TrangThai)return window.alert("Kh\xf4ng c\xf3 s\u1ef1 thay \u0111\u1ed5i n\xe0o x\u1ea3y ra !");console.log(e.Quyen,e.TrangThai),K({Quyen:e.Quyen,TrangThai:e.TrangThai}).then((function(e){console.log(e),window.alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng")})).catch((function(){window.alert("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i")}))}),[]);return D?(0,w.jsx)(h.Z,{}):X?(0,w.jsx)("h1",{children:"Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u \ud83d\ude25"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"flex space-x-2",children:(0,w.jsx)("h2",{className:"text-xl font-semibold",children:"T\xe0i kho\u1ea3n ng\u01b0\u1eddi d\xf9ng \u2728"})}),(0,w.jsx)("div",{className:"py-2 space-y-1",children:(0,w.jsxs)("div",{className:"flex justify-end space-x-2 py-1 select-none",children:[(0,w.jsxs)("div",{className:"px-2 border rounded-sm cursor-pointer",children:[null===H||void 0===H?void 0:H.TongNguoiDung," m\u1ee5c"]}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:F,children:"\xab"}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:B,children:"<"}),(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{type:"number",className:(0,i.Z)(j,"px-2 border rounded-sm cursor-pointer w-14 text-center"),value:T,onChange:function(e){return O(e)}})," / ",null===H||void 0===H?void 0:H.SoLuongTrang]}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:V,children:">"}),(0,w.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:J,children:"\xbb"})]})}),(0,w.jsxs)("table",{className:"border-collapse border rounded-sm w-full bg-white",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{className:"border bg-slate-800 text-slate-200",children:[(0,w.jsx)("th",{className:"p-2 hidden md:table-cell",children:(0,w.jsx)(o.Lwf,{className:"mx-auto w-full"})}),(0,w.jsx)("th",{className:"p-2 text-left",children:"T\xean"}),(0,w.jsx)("th",{className:"p-2 text-left",children:"Email"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"Gi\u1edbi t\xednh"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"Ng\xe0y Sinh"}),(0,w.jsx)("th",{className:"p-2 text-left hidden md:table-cell",children:"Quy\u1ec1n"}),(0,w.jsx)("th",{className:"p-2",children:"Tr\u1ea1ng th\xe1i"}),(0,w.jsx)("th",{className:"p-2 hidden md:table-cell",children:"X\xe1c th\u1ef1c"}),(0,w.jsx)("th",{className:"p-2 md:table-cell"})]})}),(0,w.jsx)("tbody",{children:H&&(null===H||void 0===H?void 0:H.DanhSach.map((function(s,l){return(0,w.jsxs)("tr",{className:"odd:bg-slate-100 border",children:[(0,w.jsx)("td",{className:"p-2 hidden md:table-cell w-24 h-24",children:(0,w.jsx)("img",{className:"object-contain mx-auto",src:s.Anh?s.Anh:y,alt:"book"})}),(0,w.jsx)("td",{className:"p-2",children:s.HoTen}),(0,w.jsx)("td",{className:"p-2",children:s.Email}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:p[s.GioiTinh]}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:s.NgaySinh}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell",children:f[s.Quyen]}),(0,w.jsx)("td",{className:"p-2 text-center",children:(0,w.jsx)("span",{className:(0,i.Z)("py-1 px-2 rounded-xl bg-opacity-20 text-center text-sm w-24",s.TrangThai?"text-lime-500 bg-lime-300":"text-red-500 bg-red-300"),children:g[s.TrangThai]})}),(0,w.jsx)("td",{className:"p-2 hidden md:table-cell text-center",children:(0,w.jsx)("span",{className:(0,i.Z)("py-1 px-2 items-center rounded-xl bg-opacity-20 text-center text-sm w-28",s.XacThuc?"text-lime-500 bg-lime-300":"text-red-500 bg-red-300"),children:b[s.XacThuc]})}),(0,w.jsx)("td",{className:"p-2 text-indigo-500 font-semibold align-middle",children:(0,w.jsx)("span",{className:"w-full",children:(0,w.jsx)(o.HlX,{onClick:function(){return q(s)},size:20,className:"cursor-pointer mx-auto"})})})]},e+l)})))})]}),(0,w.jsx)("div",{className:(0,i.Z)(C?"z-30":"-z-30","fixed flex justify-center items-center inset-0 bg-slate-900 bg-opacity-20"),children:(0,w.jsx)("div",{className:(0,i.Z)(!C&&"scale-0",N,"flex w-full flex-col bg-white rounded-sm overflow-y-scroll sm:w-1/2 max-h-screen transition-all duration-200"),children:(0,w.jsxs)("form",{onSubmit:M(Y),className:"w-full flex flex-col py-4 px-4 sm:p-6",children:[(0,w.jsx)("span",{className:"w-full flex text-slate-600 lg:text-lg",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),(0,w.jsxs)("div",{className:"flex flex-col w-full justify-center h-full sm:px-10",children:[(0,w.jsx)("div",{className:"flex relative py-4 justify-center",children:(0,w.jsx)("div",{className:"flex justify-center items-center",children:(0,w.jsx)("img",{src:G.Anh?G.Anh:y,alt:"Avatar",className:"rounded-full border-2 w-24 h-24 text-blue-500"})})}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"H\u1ecd & T\xean"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,n.Z)((0,n.Z)({},P("HoTen")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",disabled:!0,placeholder:"H\u1ecd t\xean"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Email"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,n.Z)((0,n.Z)({},P("Email")),{},{className:(0,i.Z)(W?"border-green-600 bg-green-100":"border-red-600 bg-red-100","w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base"),type:"email",disabled:!0,placeholder:"Email"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Ng\xe0y sinh"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,n.Z)((0,n.Z)({},P("NgaySinh")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",disabled:!0,placeholder:"Ng\xe0y sinh"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Gi\u1edbi t\xednh"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,n.Z)((0,n.Z)({},P("GioiTinh")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",disabled:!0,placeholder:"Gi\u1edbi t\xednh"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsx)("input",(0,n.Z)((0,n.Z)({},P("SoDienThoai")),{},{type:"tel",disabled:!0,placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base"}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Quy\u1ec1n"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsxs)("select",(0,n.Z)((0,n.Z)({},P("Quyen")),{},{className:"border border-sky-200 w-full px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 text-sm lg:text-base",children:[(0,w.jsx)("option",{value:"0",children:"Admin"}),(0,w.jsx)("option",{value:"1",children:"Kh\xe1ch h\xe0ng"})]}))})]}),(0,w.jsxs)("div",{className:"flex w-full py-2",children:[(0,w.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,w.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"Tr\u1ea1ng th\xe1i"})}),(0,w.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,w.jsxs)("select",(0,n.Z)((0,n.Z)({},P("TrangThai")),{},{className:"border border-sky-200 w-full px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 text-sm lg:text-base",children:[(0,w.jsx)("option",{value:"0",children:"Kh\xf3a t\xe0i kho\u1ea3n"}),(0,w.jsx)("option",{value:"1",children:"Ho\u1ea1t \u0111\u1ed9ng"})]}))})]})]}),(0,w.jsx)("div",{className:"w-full flex pt-8",children:(0,w.jsxs)("div",{className:"ml-auto space-x-3",children:[(0,w.jsx)("button",{type:"button",onClick:function(){return E(!1)},className:"py-2 px-3 text-slate-700 hover:bg-slate-100 shadow-sm border transition rounded-sm",children:"Tr\u1edf l\u1ea1i"}),(0,w.jsx)("button",{type:"submit",className:"py-2 px-3 bg-slate-700 hover:bg-slate-500 shadow-sm border transition rounded-sm text-white",children:"C\u1eadp nh\u1eadt"})]})})]})})})]})}}}]);
//# sourceMappingURL=458.55798160.chunk.js.map