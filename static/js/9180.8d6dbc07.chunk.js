"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9180],{9180:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var s=t(1413),a=t(4165),r=t(5861),c=t(885),l=t(8182),o=t(2791),i=t(1134),u=t(8820),d=t(9126),h=t(1578),m=t(1933),x=t(6871),f=t(7786),p=t(5089),b=t(5548),w=t(1904),g="style_none-spin__-XtwJ",j="style_hide-scrollbar__-xR6A",N=t(184);var v=function(){var e=(0,o.useId)(),n=(0,m.useQueryClient)(),t=(0,o.useState)({}),v=(0,c.Z)(t,2),y=v[0],T=v[1],k=(0,o.useState)(!1),Z=(0,c.Z)(k,2),C=Z[0],D=Z[1],M=(0,o.useState)(1),S=(0,c.Z)(M,2),A=S[0],_=S[1],E=(0,x.s0)(),I=(0,i.cI)({mode:"onBlur",defaultValues:{TenDanhMuc:""}}),G=I.register,L=I.formState.errors,z=I.handleSubmit,B=I.reset,Q=(0,i.cI)({mode:"onBlur",defaultValues:{DanhMuc:""}}),R=Q.register,Y=(Q.formState.errors,Q.handleSubmit),O=(Q.reset,Q.setValue),X=(0,m.useQuery)(["categories",A],(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.get(b.b.GET_LIST_CATEGORY_IN_PAGE,{params:{p:A,s:10}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)}))),{keepPreviousData:!0}),V=X.data,K=X.isLoading,P=X.isError,q=(0,m.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.post(b.b.MANAGE_CATEGORY,n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("categories")}}),F=q.mutateAsync,H=(0,m.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.put("".concat(b.b.MANAGE_CATEGORY,"/").concat(y.IDDanhMuc),{TenDanhMuc:n.DanhMuc});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("categories")}}),J=H.mutateAsync,U=(0,m.useMutation)(function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.delete("".concat(b.b.MANAGE_CATEGORY,"/").concat(n));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),{onSuccess:function(){n.invalidateQueries("categories")}}),W=U.mutateAsync,$=(0,o.useCallback)((function(){_((function(e){return e>=V.SoLuongTrang?V.SoLuongTrang:++e}))}),[A,V]),ee=(0,o.useCallback)((function(){_((function(e){return e>1?--e:1}))}),[A]),ne=(0,o.useCallback)((function(){_(1)}),[]),te=(0,o.useCallback)((function(){_(V.SoLuongTrang)}),[V]),se=(0,o.useCallback)((function(e){var n=parseInt(e.target.value);n>0&&n<=V.SoLuongTrang&&_(n)}),[V]),ae=(0,o.useCallback)((function(e){O("DanhMuc",e.TenDanhMuc),T(e),D(!0)}),[]),re=(0,o.useCallback)((function(e){E("".concat(w.m.admin.typeof_transfer_page,"/").concat(e))}),[]),ce=(0,o.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n th\xeam danh m\u1ee5c n\xe0y ch\u1ee9")&&F(e).then((function(){window.alert("Th\xeam danh m\u1ee5c th\xe0nh c\xf4ng"),B({TenDanhMuc:""})})).catch((function(e){console.log(e),window.alert("Th\xeam danh m\u1ee5c th\u1ea5t b\u1ea1i")}))}),[]),le=(0,o.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n thay \u0111\u1ed5i danh m\u1ee5c n\xe0y ch\u1ee9")&&J(e).then((function(){window.alert("Thay \u0111\u1ed5i danh m\u1ee5c th\xe0nh c\xf4ng"),D(!1)})).catch((function(e){console.log(e),window.alert("Thay \u0111\u1ed5i danh m\u1ee5c th\u1ea5t b\u1ea1i")}))}),[]),oe=(0,o.useCallback)((function(e){window.confirm("B\u1ea1n ch\u1eafc ch\u1eafn l\xe0 mu\u1ed1n x\xf3a danh m\u1ee5c n\xe0y ch\u1ee9")&&W(e).then((function(){window.alert("X\xf3a danh m\u1ee5c th\xe0nh c\xf4ng")})).catch((function(e){console.log(e),window.alert("X\xf3a danh m\u1ee5c th\u1ea5t b\u1ea1i")}))}),[]);return K?(0,N.jsx)(f.Z,{}):P?(0,N.jsx)("h1",{children:"Kh\xf4ng th\u1ec3 t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u \ud83d\ude25"}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"flex space-x-2",children:(0,N.jsx)("h2",{className:"text-xl font-semibold",children:"Danh m\u1ee5c \u2728"})}),(0,N.jsxs)("div",{className:"py-2 space-y-1",children:[(0,N.jsx)("div",{className:"hidden md:flex",children:(0,N.jsxs)("form",{onSubmit:z(ce),className:"flex space-x-3",children:[(0,N.jsx)("input",(0,s.Z)((0,s.Z)({},G("TenDanhMuc",{required:!0})),{},{placeholder:"T\xean danh m\u1ee5c...",type:"text",className:(0,l.Z)(L.TenDanhMuc&&"border-red-600","focus:outline-none rounded-sm border")})),(0,N.jsx)("button",{className:"px-3 py-1 bg-orange-600 rounded-sm text-white text-sm hover:bg-orange-500 transition-colors ml-auto",children:"Th\xeam"})]})}),(0,N.jsxs)("div",{className:"flex justify-end space-x-2 py-1",children:[(0,N.jsxs)("div",{className:"px-2 border rounded-sm cursor-pointer",children:[V.TongDanhMuc," m\u1ee5c"]}),(0,N.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:ne,children:"\xab"}),(0,N.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:ee,children:"<"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("input",{type:"number",className:(0,l.Z)(g,"px-2 border rounded-sm cursor-pointer w-14 text-center"),value:A,onChange:function(e){return se(e)}})," / ",null===V||void 0===V?void 0:V.SoLuongTrang]}),(0,N.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:$,children:">"}),(0,N.jsx)("div",{className:"px-2 border rounded-sm cursor-pointer",onClick:te,children:"\xbb"})]})]}),(0,N.jsxs)("table",{className:"border-collapse border rounded-sm w-full bg-white",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{className:"border bg-slate-800 text-slate-200",children:[(0,N.jsx)("th",{className:"p-2 text-left",children:"Danh m\u1ee5c"}),(0,N.jsx)("th",{className:"p-2 text-center w-16"}),(0,N.jsx)("th",{className:"p-2 text-center w-16"}),(0,N.jsx)("th",{className:"p-2 text-center w-16"})]})}),(0,N.jsx)("tbody",{children:V&&(null===V||void 0===V?void 0:V.DanhSach.map((function(n,t){return(0,N.jsxs)("tr",{className:"odd:bg-slate-100 border",children:[(0,N.jsx)("td",{className:"p-2",children:n.TenDanhMuc}),(0,N.jsx)("td",{className:"p-2 text-indigo-500 font-semibold w-16 align-middle",children:(0,N.jsx)("span",{className:"w-full",children:(0,N.jsx)(h.ctA,{onClick:function(){return re(n.IDDanhMuc)},size:20,className:"cursor-pointer mx-auto"})})}),(0,N.jsx)("td",{className:"p-2 text-indigo-500 font-semibold w-16 align-middle",children:(0,N.jsx)("span",{className:"w-full",children:(0,N.jsx)(d.HlX,{onClick:function(){return ae(n)},size:20,className:"cursor-pointer mx-auto"})})}),(0,N.jsx)("td",{className:"p-2 text-red-500 font-semibold w-16 align-middle",children:(0,N.jsx)("span",{className:"w-full",children:(0,N.jsx)(u.YK6,{onClick:function(){return oe(n.IDDanhMuc)},size:20,className:"cursor-pointer mx-auto"})})})]},e+n.IDDanhMuc)})))})]}),(0,N.jsx)("div",{className:(0,l.Z)(C?"z-30":"-z-30","fixed flex justify-center items-center inset-0 bg-slate-900 bg-opacity-20"),children:(0,N.jsx)("div",{className:(0,l.Z)(!C&&"scale-0",j,"flex w-full flex-col bg-white rounded-sm overflow-y-scroll sm:w-1/2 max-h-screen transition-all duration-200"),children:(0,N.jsxs)("form",{onSubmit:Y(le),className:"w-full flex flex-col py-4 px-4 sm:p-6",children:[(0,N.jsx)("span",{className:"w-full flex text-slate-600 lg:text-lg",children:"Th\xf4ng tin danh m\u1ee5c"}),(0,N.jsx)("div",{className:"flex flex-col w-full justify-center h-full sm:px-10",children:(0,N.jsxs)("div",{className:"flex w-full py-2",children:[(0,N.jsx)("div",{className:"w-1/3 lg:w-4/12 items-center flex",children:(0,N.jsx)("span",{className:"flex text-sm lg:text-base font-semibold text-slate-800",children:"T\xean Danh M\u1ee5c"})}),(0,N.jsx)("div",{className:"w-2/3 lg:w-8/12 flex",children:(0,N.jsx)("input",(0,s.Z)((0,s.Z)({},R("DanhMuc")),{},{className:"w-full border rounded-sm px-2 py-1 lg:py-2 focus:outline-none focus:ring-sky-200 focus:ring-1 placeholder:text-slate-400 placeholder:text-sm lg:placeholder:text-base",type:"text",placeholder:"T\xean danh m\u1ee5c"}))})]})}),(0,N.jsx)("div",{className:"w-full flex pt-8",children:(0,N.jsxs)("div",{className:"ml-auto space-x-3",children:[(0,N.jsx)("button",{type:"button",onClick:function(){return D(!1)},className:"py-2 px-3 text-slate-700 hover:bg-slate-100 shadow-sm border transition rounded-sm",children:"Tr\u1edf l\u1ea1i"}),(0,N.jsx)("button",{type:"submit",className:"py-2 px-3 bg-slate-700 hover:bg-slate-500 shadow-sm border transition rounded-sm text-white",children:"C\u1eadp nh\u1eadt"})]})})]})})})]})}}}]);
//# sourceMappingURL=9180.8d6dbc07.chunk.js.map